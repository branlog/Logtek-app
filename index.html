<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>Logtek</title>
  <meta name="theme-color" content="#111111">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
  <script defer src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script defer src="config.js"></script>
  <script defer src="app.js"></script>
</head>
<body>
<header class="topbar">
  <div class="brand">Logtek</div>
  <nav class="nav">
    <button data-nav="catalog">Catalogue</button>
    <button data-nav="account">Compte</button>
    <button data-nav="orders">Commandes</button>
  </nav>
  <div class="right">
    <button id="loginBtn" class="btn">Se connecter</button>
    <button id="logoutBtn" class="btn" hidden>Quitter</button>
  </div>
</header>

<main id="view-catalog" class="view active">
  <h2>Catalogue</h2>
  <div id="catalog"></div>
</main>

<main id="view-account" class="view">
  <h2>Compte</h2>
  <div id="authArea">
    <form id="authForm">
      <label>Courriel <input type="email" name="email" required></label>
      <label>Mot de passe <input type="password" name="password" required></label>
      <div class="actions">
        <button type="submit" data-auth="login" class="primary">Se connecter</button>
        <button type="submit" data-auth="signup">Cr√©er un compte</button>
      </div>
    </form>
  </div>
  <div id="profileArea" hidden>
    <h3>Profil</h3>
    <form id="profileForm">
      <label>Entreprise / Nom <input name="company"></label>
      <div class="actions"><button class="primary">Enregistrer</button></div>
    </form>
  </div>
</main>

<main id="view-orders" class="view">
  <h2>Historique des commandes</h2>
  <div id="ordersList">Connectez-vous pour voir vos commandes.</div>
</main>

<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('service-worker.js');
  });
}
</script>
</body>
</html>
